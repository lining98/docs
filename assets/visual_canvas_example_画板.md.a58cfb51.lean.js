import{d as h,h as c,l as q,p as x,o as A,c as i,z as a,G as t,n as B,a as y,I as _,L as k,F as w,_ as P,V as T}from"./chunks/framework.b3911a66.js";import{C as r}from"./chunks/CBtn.bb193dfe.js";const W={class:"btns"},S=h({__name:"Draw",setup(u){const n=c(),s=q(()=>n.value?n.value.getContext("2d"):null),l=c(1),F=c(!1),C=c(),e=c(!1),b=()=>{n.value.onmousedown=function(p){F.value=!0,s.value.beginPath(),s.value.moveTo(p.offsetX,p.offsetY)},n.value.onmouseleave=function(){F.value=!1,s.value.closePath()},n.value.onmouseup=function(){F.value=!1,s.value.closePath()},n.value.onmousemove=function(p){if(F.value){var o=p.offsetX,D=p.offsetY;s.value.lineTo(o,D),s.value.stroke()}}},m=()=>{e.value=!1,s.value.globalCompositeOperation="source-over",l.value+=2,s.value.lineWidth=l.value},v=()=>{e.value=!1,s.value.globalCompositeOperation="source-over",l.value-=2,l.value<1&&(l.value=1),s.value.lineWidth=l.value},d=()=>{var p=n.value.toDataURL(),o=document.createElement("a");o.setAttribute("download","签名"),o.href=p,o.click()},E=()=>{s.value.strokeStyle=C.value},f=()=>{e.value=!e.value,e.value?s.value.globalCompositeOperation="destination-out":s.value.globalCompositeOperation="source-over"},g=()=>{s.value.clearRect(0,0,750,600)};return x(()=>{b()}),(p,o)=>(A(),i(w,null,[a("div",W,[t(r,{onClick:m,text:"粗线条"}),t(r,{onClick:v,text:"细线条"}),t(r,{onClick:d,text:"保存签名"}),a("input",{onChange:E,ref_key:"color",ref:C,type:"color",name:""},null,544),t(r,{onClick:f,text:"橡皮擦",class:B(e.value?"active":"")},null,8,["class"]),t(r,{onClick:g,text:"清空画布"})]),a("div",null,[y(" 线宽： "),_(a("input",{"onUpdate:modelValue":o[0]||(o[0]=D=>l.value=D),type:"text"},null,512),[[k,l.value]])]),a("canvas",{ref_key:"canvas",ref:n,width:"750",height:"600"},null,512)],64))}});const O=P(S,[["__scopeId","data-v-28058e46"]]),V=a("h1",{id:"画板",tabindex:"-1"},[y("画板 "),a("a",{class:"header-anchor",href:"#画板","aria-label":'Permalink to "画板"'},"​")],-1),L=a("h2",{id:"示例",tabindex:"-1"},[y("示例 "),a("a",{class:"header-anchor",href:"#示例","aria-label":'Permalink to "示例"'},"​")],-1),R=T("",6),Y=JSON.parse('{"title":"画板","description":"","frontmatter":{},"headers":[],"relativePath":"visual/canvas/example/画板.md","filePath":"visual/canvas/example/画板.md","lastUpdated":1688438599000}'),I={name:"visual/canvas/example/画板.md"},j=Object.assign(I,{setup(u){return(n,s)=>(A(),i("div",null,[V,L,t(O),R]))}});export{Y as __pageData,j as default};
