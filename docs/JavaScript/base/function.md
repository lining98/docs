# JavaScript 函数

> 在 JS 里面，可能会定义非常多的相同代码或者功能相似的代码，这些代码可能需要大量重复使用。
>
> 虽然 for 循环语句也能实现一些简单的重复操作，但是比较具有局限性，此时我们就可以使用 JS 中的函数。

**函数**：就是封装了一段可被重复调用执行的代码块。通过此代码块可以实现大量代码的重复使用。

## 函数的使用

### 声明函数

`function`是声明函数的关键字，必须小写

```js
// 声明定义方式
function 函数名() {
    // 函数体代码
}

// 这是函数表达式写法，匿名函数后面跟分号结束
var 变量名 = function() {
  ...
};

// 调用的方式，函数调用必须写到函数体下面
函数名();
```

### 调用函数

**`函数名();`**

```js
// 函数使用分为两步： 声明函数 和 调用函数
// 1. 声明函数
// function 函数名() {
//     // 函数体
// }
function sayHi() {
  console.log('hi~~')
}

// (1) function 声明函数的关键字 全部小写
// (2) 函数是做某件事情，函数名一般是动词 sayHi
// (3) 函数不调用自己不执行
// 2. 调用函数
// 函数名();
sayHi()
// 调用函数的时候千万不要忘记加小括号

// 函数是可以相互调用的
function fn1() {
  console.log(111)
  fn2()
  console.log('fn1')
}

function fn2() {
  console.log(222)
  console.log('fn2')
}
fn1()
```

### 函数的封装

**函数的封装**：是把一个或者多个功能通过函数的方式封装起来，对外只提供一个简单的函数接口。

## 函数的参数

### 形参和实参

- 在声明函数时，可以在函数名称后面的小括号中添加一些参数，这些参数被称为**形参**
- 在调用该函数时，同样也需要传递相应的参数，这些参数被称为**实参**

**参数的作用**: 在函数内部某些值不能固定，我们可以通过参数在调用函数时传递不同的值进去

```js
// 1. 我们可以利用函数的参数实现函数重复不同的代码
// function 函数名(形参1,形参2...) { // 在声明函数的小括号里面是 形参 （形式上的参数）

// }
// 函数名(实参1,实参2...); // 在函数调用的小括号里面是实参（实际的参数）

// 2. 形参和实参的执行过程
function cook(aru) {
  // 形参是接受实参的  aru = '酸辣土豆丝' 形参类似于一个变量
  console.log(aru)
}
cook('叫花鸡')
cook('大肘子')
// 4. 函数的参数可以有，也可以没有个数不限
```

### 函数形参和实参个数不匹配问题

| **参数个数**         | **说明**                 |
| -------------------- | ------------------------ |
| 实参个数等于形参个数 | 输出正确结果             |
| 实参个数多于形参个数 | 只取到形参的个数         |
| 实参个数少于形参个数 | 多的参数定义为 undefined |

```js
// 函数形参实参个数匹配
function getSum(num1, num2) {
  console.log(num1 + num2)
}
// 1. 如果实参的个数和形参的个数一致 则正常输出结果
getSum(1, 2)
// 2. 如果实参的个数多于形参的个数  会取到形参的个数
getSum(1, 2, 3)
// 3. 如果实参的个数小于形参的个数  多于的形参定义为undefined  最终的结果就是 NaN
// 形参可以看做是不用声明的变量  num2 是一个变量但是没有接受值  结果就是undefined
getSum(1) // NaN
// 建议 尽量让实参的个数和形参相匹配
```

::: tip 小结

- 函数可以带参数也可以不带参数
- 声明函数的时候，函数名括号里面的是形参，形参的默认值为 undefined
- 调用函数的时候，函数名括号里面的是实参
- 多个参数中间用逗号分隔
- 形参的个数可以和实参个数不匹配，但是结果不可预计，我们尽量要匹配
  :::

## 函数的返回值

有的时候，我们会希望函数将值返回给调用者，此时通过使用 return 语句就可以实现。
**语法格式**

```js
// 声明函数
function 函数名（）{
    ...
    return  需要返回的值；
}

// 调用函数
var result = 函数名();    // 此时调用函数就可以得到函数体内return 后面的值
```

::: tip 注意事项

- 在使用 return 语句时，函数会停止执行，return 语句之后的代码不被执行，并返回指定的值。
- return 只能返回一个值。如果用逗号隔开多个值，以最后一个为准。
- 函数没有 return ，返回的值是 undefined

:::

```js
// 函数返回值注意事项
// 1. return 终止函数
function getSum(num1, num2) {
  return num1 + num2 // return 后面的代码不会被执行
  alert('我是不会被执行的哦！')
}
console.log(getSum(1, 2))
// 2. return 只能返回一个值
function fn(num1, num2) {
  return num1, num2 // 返回的结果是最后一个值
}
console.log(fn(1, 2))

// 3.  我们求任意两个数的 加减乘数结果
function getResult(num1, num2) {
  return [num1 + num2, num1 - num2, num1 * num2, num1 / num2]
}
var res = getResult(1, 2) // 返回的是一个数组
console.log(res)
// 4. 我们的函数如果有return 则返回的是 return 后面的值，如果函数么有 return 则返回undefined
function fun1() {
  return 666
}
console.log(fun1()) // 返回 666
function fun2() {}
console.log(fun2()) // 函数返回的结果是 undefined
```

## break、continue、return 的区别

- break：结束当前的循环体（如 for、while）
- continue：跳出本次循环，继续执行下次循环（如 for、while）
- return：不仅可以退出循环，还能够返回 return 语句中的值，同时还可以结束当前的函数体内的代码

## 匿名函数

函数可以分为具名函数和匿名函数

匿名函数：没有名字的函数,无法直接使用。

### 函数表达式

```js
// 声明
let fn = function () {
  console.log('函数表达式')
}
// 调用
fn()
```

### 立即执行函数

```js
(function(){ xxx  })();
(function(){ xxxx }());
```
::: tip
无需调用，立即执行，其实本质已经调用了

多个立即执行函数之间用分号隔开
:::
